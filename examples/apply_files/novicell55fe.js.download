"use strict";var novicell=novicell||{};novicell.overlay=novicell.overlay||new function(){function t(){e(),i(),o(),n(),document.documentElement.classList.add("no-scroll"),"function"==typeof d.onLoaded&&d.onLoaded()}function e(){l=document.createElement("div"),l.classList.add("novi-backdrop"),l.id="js-novi-backdrop",l.addEventListener("click",function(t){(t.target.classList.contains("novi-overlay")||t.target.classList.contains("novi-overlay__container"))&&p.destroy()}),document.querySelector("body").appendChild(l)}function i(){a=document.createElement("div"),a.classList.add("novi-overlay"),a.id="js-novi-overlay",d.hasOwnProperty("class")&&a.classList.add(d["class"]),l.appendChild(a)}function o(){s=document.createElement("div"),s.classList.add("novi-overlay__container"),r=document.createElement("div"),r.classList.add("novi-overlay__content"),u&&r.classList.add("novi-overlay__content--video"),r.innerHTML=c,s.appendChild(r),a.appendChild(s)}function n(){var t=document.createElement("button");t.classList.add("novi-overlay-close","button--close"),t.type="button",t.id="js-novi-overlay-close",t.addEventListener("click",p.destroy),document.addEventListener("keydown",function(t){27===t.keyCode&&p.destroy()}),r.appendChild(t)}var a,s,r,l,c,p=this,d={},u=!1;this.create=function(e){var i=this;if(d=e,"function"==typeof d.onCreate&&d.onCreate(),i.destroy(),d.hasOwnProperty("selector")&&null!==d.selector){var o=document.querySelector(d.selector);if(!o)return void console.warn("novicell.overlay: element does not exist. Please provide a valid selector for use in document.querySelector.");c=o.innerHTML,t()}else{if(!d.hasOwnProperty("videoId"))return void console.error("novicell.overlay: no content to display! Please set a selector or a url to load.");if(null===d.videoId)return void console.warn("novicell.overlay: video-id is empty. Please provide a video-id for use in video embed code (we support only Vimeo and YouTube).");var n="";if(u=!0,"vimeo"==d.type)n="https://player.vimeo.com/video/"+d.videoId;else{if("youtube"!=d.type)return;n="https://www.youtube.com/embed/"+d.videoId+"?ecver=2"}var a=document.createElement("iframe");a.setAttribute("src",n),a.setAttribute("frameborder",0),a.setAttribute("allowfullscreen",""),a.setAttribute("width","100%"),a.setAttribute("height","100%"),c=a.outerHTML,t()}},this.destroy=function(){document.querySelector("#js-novi-overlay")&&(a.parentElement.removeChild(a),l.parentElement.removeChild(l),document.removeEventListener("keyup",p.destroy),document.documentElement.classList.remove("no-scroll","novi-overlay--open"),u=!1,"function"==typeof d.onDestroy&&d.onDestroy())}};